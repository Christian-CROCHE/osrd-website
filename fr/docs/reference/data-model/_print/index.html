<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=fr class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.101.0"><link rel=canonical type=text/html href=https://dgexsolutions.github.io/osrd-website/fr/docs/reference/data-model/><link rel=alternate type=application/rss+xml href=https://dgexsolutions.github.io/osrd-website/fr/docs/reference/data-model/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/osrd-website/favicons/favicon.ico><link rel=apple-touch-icon href=/osrd-website/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/osrd-website/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/osrd-website/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/osrd-website/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/osrd-website/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/osrd-website/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/osrd-website/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/osrd-website/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/osrd-website/favicons/android-192x192.png sizes=192x192><title>Modèle de données | OSRD</title><meta name=description content="Décrit l'organisation et le format des données dans OSRD"><meta property="og:title" content="Modèle de données"><meta property="og:description" content="Décrit l'organisation et le format des données dans OSRD"><meta property="og:type" content="website"><meta property="og:url" content="https://dgexsolutions.github.io/osrd-website/fr/docs/reference/data-model/"><meta property="og:site_name" content="OSRD"><meta itemprop=name content="Modèle de données"><meta itemprop=description content="Décrit l'organisation et le format des données dans OSRD"><meta name=twitter:card content="summary"><meta name=twitter:title content="Modèle de données"><meta name=twitter:description content="Décrit l'organisation et le format des données dans OSRD"><link rel=preload href=/osrd-website/scss/main.min.de203f4f1cf6008c49fefc8ebcf649bd2d3e797e86169ee00a73f01456105812.css as=style><link href=/osrd-website/scss/main.min.de203f4f1cf6008c49fefc8ebcf649bd2d3e797e86169ee00a73f01456105812.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/osrd-website/fr/><span class=navbar-logo><svg id="Calque_1" data-name="Calque 1" viewBox="0 0 64 64" sodipodi:docname="logo_osrd_seul_blanc.svg" width="64" height="64" inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"><sodipodi:namedview pagecolor="#ffffff" bordercolor="#666666" borderopacity="1" objecttolerance="10" gridtolerance="10" guidetolerance="10" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-width="3440" inkscape:window-height="1380" id="namedview47" showgrid="false" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0" inkscape:zoom="3.0016455" inkscape:cx="12.992873" inkscape:cy="71.294228" inkscape:window-x="0" inkscape:window-y="32" inkscape:window-maximized="1" inkscape:current-layer="Calque_1" inkscape:pagecheckerboard="0"/><defs id="defs4"><style id="style2">.cls-1,.cls-2,.cls-3,.cls-4,.cls-7{fill:none;stroke-linecap:round;stroke-linejoin:round}.cls-1,.cls-4{stroke:#aa026d}.cls-1,.cls-2{stroke-width:10px}.cls-2,.cls-3{stroke:#71196f}.cls-3,.cls-4{stroke-width:5px}.cls-5,.cls-6{font-size:119.48px}.cls-5{fill:#71196f;font-family:AvenirLTStd-Heavy,Avenir LT Std}.cls-6{fill:#aa026d;font-family:AvenirLTStd-Medium,Avenir LT Std}.cls-7{stroke:#fff;stroke-width:.75px}</style></defs><title id="title6">logo-OSRD_</title><g id="g847" transform="matrix(0.09645818,0,0,0.09645818,7.1489968,-1.215e-6)"><path inkscape:connector-curvature="0" class="cls-1" d="m389.52 658.5v-88c0-199.26-91.83-331.42-279.82-362" id="path8" style="stroke:#f2f2f2;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-1" d="m298.5 658.5v-87.07c0-156.89-75.34-258.73-229.71-276" id="path10" style="stroke:#f2f2f2;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-2" d="m216.77 658.5v-70.49c0-121.76-58.68-200.64-178.91-213.6" id="path12" style="stroke:#a0a0a0;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-2" d="M125.74 658.5V617.36C125.74 533.21 86.13 478 5 466.95" id="path14" style="stroke:#a0a0a0;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-2" d="m125.74 658.5v-88c0-199.26 91.84-331.42 279.83-362" id="path16" style="stroke:#a0a0a0;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-2" d="m216.77 658.5v-87.07c0-156.89 75.34-258.73 229.71-276" id="path18" style="stroke:#a0a0a0;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-1" d="m298.5 658.5v-70.49c0-121.76 58.68-200.64 178.91-213.6" id="path20" style="stroke:#f2f2f2;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-1" d="m389.52 658.5v-41.14c0-84.15 39.62-139.36 120.75-150.41" id="path22" style="stroke:#f2f2f2;stroke-opacity:1"/><line class="cls-3" x1="126" y1="642.5" x2="126" y2="122.5" id="line24" style="stroke:#a0a0a0;stroke-opacity:1"/><line class="cls-3" x1="217" y1="642.5" x2="217" y2="2.5" id="line26" style="stroke:#a0a0a0;stroke-opacity:1"/><line class="cls-4" x1="299" y1="642.5" x2="299" y2="2.5" id="line28" style="stroke:#f7f7f7;stroke-opacity:1"/><line class="cls-4" x1="390" y1="642.5" x2="390" y2="122.5" id="line30" style="stroke:#f2f2f2;stroke-opacity:1"/></g></svg></span><span class=font-weight-bold>OSRD</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/osrd-website/fr/who-we-are/><span>Qui sommes-nous ?</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/osrd-website/fr/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/osrd-website/fr/partnership/><span>Partenariats</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/osrd-website/fr/news/><span>News</span></a></li><li class="nav-item dropdown mr-4 d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Français</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/osrd-website/en/docs/reference/data-model/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Rechercher" aria-label=Rechercher autocomplete=off data-offline-search-index-json-src=/osrd-website/offline-search-index.53547c9896c78e8cdec6e7b8ee6a4f16.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>Version imprimable multipages.
<a href=# onclick="return print(),!1">Cliquer ici pour imprimer</a>.</p><p><a href=/osrd-website/fr/docs/reference/data-model/>Retour à la version par défaut</a>.</p></div><h1 class=title>Modèle de données</h1><div class=lead>Décrit l&rsquo;organisation et le format des données dans OSRD</div><ul><li>1: <a href=#pg-f33542474ac2d28b63e382d0d8bbc164>Exemple d'utilisation</a></li><li>2: <a href=#pg-c351de31723331dc0e22968e6d1ec545>Liste des APIs</a></li><ul><li>2.1: <a href=#pg-b589148f819084a25030b767b99e4c86>API</a></li><li>2.2: <a href=#pg-82ddd5a42aef30e53ff6fe3621680948>Chartos</a></li><li>2.3: <a href=#pg-b1b622c137635058179f52c6b9872db5>Core</a></li><li>2.4: <a href=#pg-6aa1df5f40001cd7204af6bf1e24a132>Editoast</a></li></ul></ul><div class=content><p>Décrit l&rsquo;organisation et le format des données dans OSRD.</p></div></div><div class=td-content><h1 id=pg-f33542474ac2d28b63e382d0d8bbc164>1 - Exemple d'utilisation</h1><div class=lead>Exemple d&rsquo;utilisation des formats de données d&rsquo;OSRD</div><font color=#aa026d><h3 id=introduction>Introduction</h3></font><p>Cette page donne un exemple de la manière dont les formats de données sont utilisés pour décrire une infrastructure dans <strong>OSRD</strong>.</p><p>À cette fin, prenons comme exemple l&rsquo;infrastructure-jouet suivante :</p><p><img src=../svg_diagrams/small_infra_diagram.drawio.svg alt="Diagramme de l&amp;rsquo;Infrastructure"></p><div class="alert alert-info" role=alert><h4 class=alert-heading>Conseil</h4>Pour zoomer sur un diagramme, cliquez sur le bouton d&rsquo;édition qui apparaît au survol de celui-ci.</div><p>Ce diagramme est un aperçu de l&rsquo;infrastructure avec les lignes et les stations uniquement.</p><p>Cette infrastructure ne se veut pas réaliste, mais plutôt destinée à illustrer le modèle de données de l&rsquo;OSRD.
Cet exemple sera créé étape par étape et expliqué en cours de route.</p><h4 id=le-générateur-dinfrastructures>Le générateur d&rsquo;infrastructures</h4><p>Dans le <a href=https://github.com/DGEXSolutions/osrd>dépôt <em>OSRD</em></a> se trouve une <a href=https://github.com/DGEXSolutions/osrd/tree/dev/core/examples/generated>bibliothèque python</a> conçue pour aider à générer des infrastructures dans un format compris par <em>OSRD</em>.</p><p>L&rsquo;infrastructure discutée dans cette section peut être générée grâce au fichier <a href=https://github.com/DGEXSolutions/osrd/blob/dev/core/examples/generated/scripts/small_infra.py>small_infra.py</a>. Pour en savoir plus sur les scripts de génération, vous pouvez consulter le <a href=https://github.com/DGEXSolutions/osrd/blob/dev/core/examples/generated/README.md>README</a> correspondant.</p><font color=#aa026d><h3 id=pistes>Pistes</h3></font><h4 id=sections-de-piste-track-sections>Sections de piste (Track Sections)</h4><p>Les premiers objets que nous devons définir sont les <code>TrackSections</code>. La plupart des autres objets sont positionnés par rapport aux sections de voie.</p><p>Une section de voie est une section de rail (sans les aiguillages). On peut choisir de diviser les voies de son infrastructure en autant de sections qu&rsquo;on le souhaite. Ici, nous avons choisi d&rsquo;utiliser les sections de voie les plus longues possibles, ce qui signifie qu&rsquo;entre deux aiguillages, il y a toujours une seule section de voie.</p><p>Les sections de voie sont ce sur quoi les trains simulés roulent. Ils sont l&rsquo;équivalent abstrait des sections de rails physiques. Les sections de voie sont bidirectionnelles.</p><p>Dans cet exemple, nous définissons deux voies pour la ligne entre les stations Ouest et Nord-Est. Nous avons également des voies de contournement aux stations Nord et Centre-Ouest pour plus de réalisme. Enfin, nous avons trois voies distinctes dans la station Ouest, puisqu&rsquo;il s&rsquo;agit d&rsquo;une plaque tournante majeure dans notre infrastructure imaginaire.</p><p><img src=../svg_diagrams/small_infra_rails.drawio.en.svg alt="Diagramme des sections de voies"></p><div class="alert alert-warning" role=alert><h4 class=alert-heading>Important</h4><p>Les <code>TrackSections</code> sont représentées par des flèches dans ce diagramme pour souligner le fait qu&rsquo;elles ont un <strong>début</strong> et une <strong>fin</strong>. C&rsquo;est important car les objets positionnés sur les sections de voie sont localisés en fonction de leur distance par rapport au <strong>début</strong> de leur section de voie.</p><p>Par conséquent, pour placer un objet au début de sa section de piste, définissez son décalage à 0. Pour le déplacer à la fin de sa section de piste, définissez son décalage à la <code>length</code> de la section de piste.</p></div><p>Ces attributs sont nécessaires pour que la section de voie soit complète :</p><ul><li><code>length</code> : la longueur de la section de piste en mètres.</li><li><code>geo</code> : les coordonnées dans la vie réelle (geo pour géographique), au format <a href=https://en.wikipedia.org/wiki/GeoJSON>GeoJSON</a>.</li><li><code>sch</code> : les coordonnées dans la vue schématique (sch pour schematic), également au format <a href=https://en.wikipedia.org/wiki/GeoJSON>GeoJSON</a>.</li><li>attributs cosmétiques : <code>line_name</code>, <code>track_name</code>, <code>track_number</code> qui sont utilisés pour indiquer le nom et les étiquettes qui ont été donnés aux pistes / lignes dans la vie réelle.</li></ul><p>Pour toutes les sections de voies de notre infrastructure, les attributs <code>geo</code> et <code>sch</code> sont identiques, et ressemblent beaucoup au schéma donné.</p><p>Pour la plupart des sections de voies, leur &ldquo;longueur&rdquo; est proportionnelle à ce que l&rsquo;on peut voir sur le diagramme. Pour préserver la lisibilité, des exceptions ont été faites pour <em>TA6</em>, <em>TA7</em>, <em>TD0</em> et <em>TD1</em> (qui font 10km et 25km).</p><h4 id=liens-de-sections-de-voies>Liens de sections de voies</h4><p>Pour le moment, nous n&rsquo;avons créé que des sections de voies, qui ne sont pas connectées entre elles (les données géospatiales ne sont pas utilisées pour déduire quelles voies sont connectées).</p><p>Les <code>TrackSectionLinks</code> sont utilisés pour connecter deux sections de voie ensemble, tout comme un joint de soudure le ferait dans la vie réelle. Dans une simulation OSRD, un train ne peut passer d&rsquo;une section de voie à une autre que si elles sont reliées par un <code>TrackSectionLink</code> (ou par un <code>Switch</code>).</p><p>Pour connecter plus de deux <code>TrackSections</code> ensemble, utilisez les <a href=#aiguillages><code>Switches</code></a>.</p><p>Dans notre infrastructure, comme nous avons choisi d&rsquo;avoir des sections de voie aussi longues que possible, nous n&rsquo;avons pas besoin d&rsquo;utiliser les <code>TrackSectionLinks</code>.
Les <code>TrackSectionLinks</code> sont toujours optionnels : deux sections de voies reliées par un lien se comportent comme une seule section de voie.</p><h4 id=aiguillages>Aiguillages</h4><p>Un <code>Switch</code> représente ce à quoi vous vous attendez : des aiguillages ferroviaires.</p><p>Les aiguillages peuvent être vus comme une collection de liens de sections de voies, partitionnés en groupes. Chaque groupe représente un état de l&rsquo;aiguillage. L&rsquo;aiguillage d&rsquo;un groupe peut prendre du temps, et au maximum un lien peut être prêt à être utilisé à la fois.</p><p>Dans le monde réel, les aiguillages ne sont pas uniques, mais plutôt des instances de modèles existants.
Ainsi, les liens et les groupes ne font pas partie du switch lui-même, mais d&rsquo;un objet <code>SwitchType</code>, qui est partagé par les switches du même modèle.</p><h5 id=types-daiguilles>Types d&rsquo;aiguilles</h5><p>Les <code>SwitchTypes</code> ont deux attributs obligatoires :</p><ul><li><code>ports</code> : Une liste de noms de ports. Un port est un point d&rsquo;extrémité qui peut être connecté à une section de voie.</li><li><code>groups</code> : Une correspondance entre les noms de groupes et les listes de liens entre deux ports.</li></ul><p>A tout moment, toutes les aiguilles ont un groupe actif, et peuvent avoir un lien actif, qui appartient toujours au groupe actif. S&rsquo;il y a un lien actif, il est actif dans une direction donnée. Pendant une simulation, le changement de lien actif à l&rsquo;intérieur d&rsquo;un groupe est instantané, mais le changement de lien actif entre les groupes prend un temps configurable.
Ceci est dû au fait qu&rsquo;un switch est un objet physique, et que le changement de lien actif peut impliquer le déplacement de certaines de ses parties. Les <code>Groupes</code> sont conçus pour représenter les différentes positions qu&rsquo;un switch peut avoir. Chaque <code>groupe</code> contient les liens qui peuvent être utilisés dans la position du switch associé.</p><p>La durée nécessaire pour changer de groupe est stockée à l&rsquo;intérieur du <code>Switch</code>, car elle peut varier en fonction de l&rsquo;implémentation physique de l&rsquo;interrupteur.</p><p>Nos exemples utilisent actuellement trois types de switch. Les types d&rsquo;interrupteurs sont comme les autres objets, et peuvent facilement être ajoutés si nécessaire.</p><p><strong>1) L&rsquo;aiguillage</strong></p><p>L&rsquo;omniprésent aiguillage en Y, qui peut être considéré comme la fusion de deux voies ou la séparation d&rsquo;une voie.</p><p>Ce type d&rsquo;aiguillage possède trois ports : <em>base</em>, <em>gauche</em> et <em>droite</em>.</p><p><img src=../svg_diagrammes/point_switch.en.svg alt="Diagramme d&amp;rsquo;aiguillage"></p><p>Il y a deux groupes, chacun avec une connexion dans leur liste : <code>LEFT</code>, qui connecte <em>base</em> à <em>gauche</em>, et <code>RIGHT</code> qui connecte <em>base</em> à <em>droite</em>.</p><p>Ainsi, à tout moment, un train peut aller de la <em>base</em> à la <em>gauche</em> ou de la <em>base</em> à la <em>droite</em> mais jamais aux deux en même temps. Un train ne peut pas aller de <em>gauche</em> à <em>droite</em>.</p><p>Un aiguillage n&rsquo;a que deux positions :</p><p><img src=../svg_diagrams/point_switch_positions.en.svg alt="Diagramme des positions de l&amp;rsquo;aiguillage"></p><p><strong>2) L&rsquo;aiguillage de croisement</strong></p><p>Il s&rsquo;agit simplement de deux voies qui se croisent.</p><p>Ce type a quatre ports : <em>nord</em>, <em>sud</em>, <em>est</em> et <em>ouest</em>.</p><p><img src=../svg_diagrams/cross_switch.en.svg alt="Diagramme de l&amp;rsquo;aiguillage croisé"></p><p>Il ne comporte qu&rsquo;un seul groupe contenant deux connexions : <em>nord</em> vers <em>sud</em> et <em>ouest</em> vers <em>est</em>. En effet, ce type d&rsquo;interrupteur est <em>passif</em> : il n&rsquo;a pas de pièces mobiles. Bien qu&rsquo;il n&rsquo;ait qu&rsquo;un seul groupe, il est tout de même utilisé par la simulation pour faire respecter les réservations de route.</p><p>Voici les deux connexions différentes que ce type d&rsquo;interrupteur possède :</p><p><img src=../svg_diagrams/cross_switch_positions.en.svg alt="Diagramme des positions des aiguilles croisés"></p><p><strong>3) L&rsquo;interrupteur en croix double</strong></p><p>Celui-ci ressemble plus à deux interrupteurs à pointe dos à dos. Il possède quatre ports : <em>sud1</em>, <em>sud2</em>, <em>nord1</em> et <em>nord2</em>.</p><p><img src=../svg_diagrammes/double_cross_switch.en.svg alt="Diagramme d&amp;rsquo;un interrupteur à double croix"></p><p>Cependant, il comporte quatre groupes, chacun avec une connexion. Les quatre groupes sont représentés dans le diagramme suivant :</p><p><img src=../svg_diagrammes/double_cross_switch_positions.en.svg alt="Diagramme des positions de l&amp;rsquo;interrupteur croisé double"></p><h5 id=retour-aux-aiguilles>Retour aux aiguilles</h5><p>Un <code>Switch</code> possède trois attributs :</p><ul><li><code>switch_type</code> : l&rsquo;identifiant <a href=#types-daiguilles><code>SwitchType</code></a> de cette aiguille.</li><li><code>ports</code> : une correspondance entre les noms de port et les extrémités des sections de piste.</li><li><code>group_change_delay</code> : le temps qu&rsquo;il faut pour changer le groupe de l&rsquo;aiguillage qui est activé.</li></ul><p>Les noms des ports doivent correspondre aux ports du type d&rsquo;aiguillage choisi. Les extrémités de la section de voie peuvent être de début ou de fin, faites attention à choisir les bonnes.</p><p>La plupart des aiguillages de notre exemple sont des aiguillages réguliers. Le chemin de la gare du Nord à la gare du Sud a deux aiguillages de croisement, et il y a un double aiguillage de croisement juste avant que la ligne principale ne se divise en lignes Nord-Est et Sud-Est.</p><p><img src=../svg_diagrams/small_infra_rails_n_points.drawio.en.svg alt="Diagramme des sections de voie et des aiguillages"></p><h4 id=courbes-et-pentes>Courbes et pentes</h4><p>Les <code>Courbes</code> et les <code>Pentes</code> sont essentielles pour des simulations réalistes. Ces objets sont définis comme une plage entre un décalage de <code>début</code> et de <code>fin</code> d&rsquo;une section de voie. Si une courbe / pente s&rsquo;étend sur plus d&rsquo;une section de voie, elle doit être ajoutée à toutes les sections.</p><p>Les valeurs des courbes / pentes sont constantes sur toute leur étendue. Pour des courbes / pentes variables, il faut créer plusieurs objets.</p><p>Les valeurs de pente sont mesurées en <em>mètres par kilomètres</em>, et les valeurs de courbe sont mesurées en <em>mètres</em> (le rayon de la courbe).</p><div class="alert alert-primary" role=alert>N&rsquo;oubliez pas que la valeur de début doit toujours être inférieure à la valeur de fin. C&rsquo;est pourquoi les valeurs de courbe/pente peuvent être négatives : une pente ascendante de 1 allant du décalage 10 à 0 est identique à une pente descendante de -1 allant des décalages 0 à 10.</div><p>Dans le fichier <a href=https://github.com/DGEXSolutions/osrd/blob/dev/core/examples/generated/scripts/small_infra.py>small_infra.py</a>, nous avons des pentes sur les sections de piste <em>TA6</em>, <em>TA7</em>, <em>TD0</em> et <em>TD1</em>.</p><p>Il y a également des courbes sur les sections de voie <em>TE0</em>, <em>TE1</em>, <em>TE3</em> et <em>TF1</em>.</p><font color=#aa026d><h3 id=enclenchement>Enclenchement</h3></font><p>Jusqu&rsquo;à présent, tous les objets ont contribué à la topologie (forme) des voies. La topologie serait suffisante pour que les trains puissent naviguer sur le réseau, mais pas assez pour le faire en toute sécurité. pour assurer la sécurité, deux systèmes collaborent :</p><ul><li>L&rsquo;enclenchement garantit que les trains sont autorisés à avancer</li><li>La signalisation est le moyen par lequel l&rsquo;enclenchement communique avec le train</li></ul><h4 id=détecteurs>Détecteurs</h4><p>Ces objets sont utilisés pour créer des sections TVD (Track Vacancy Detection section) : la zone de la voie située entre les détecteurs est une section TVD. Lorsqu&rsquo;un train rencontre un détecteur, la section dans laquelle il entre est occupée. La seule fonction des sections TVD est de localiser les trains.</p><p>Dans la réalité, les détecteurs peuvent être des <a href=https://en.wikipedia.org/wiki/Axle_counter>compteurs d&rsquo;essieux</a> ou des <a href=https://en.wikipedia.org/wiki/Track_circuit>circuits de voie</a> par exemple.</p><p>Pour que cette méthode de localisation soit efficace, les détecteurs doivent être placés régulièrement le long de vos voies, pas trop nombreux pour des raisons de coût, mais pas trop peu, car les sections TVD seraient alors très grandes et les trains devraient être très éloignés les uns des autres pour être distingués, ce qui réduirait la capacité.</p><p>Il y a souvent des détecteurs à proximité de tous les côtés des aiguillages. De cette façon, l&rsquo;enclenchement est averti presque immédiatement lorsqu&rsquo;un aiguillage est libéré, qui est alors libre d&rsquo;être utilisé à nouveau.</p><div class="alert alert-info" role=alert>Prenons l&rsquo;exemple d&rsquo;un aiguillage de croisement : si le train A le franchit du <em>nord</em> au <em>sud</em> et que le train B vient le franchir de l&rsquo;<em>ouest</em> à l&rsquo;<em>est</em>, dès que le dernier wagon du train A a franchi l&rsquo;aiguillage, B devrait pouvoir partir, puisque A se trouve maintenant sur une section de voie complètement indépendante.</div><p>Dans <em>OSRD</em>, les détecteurs sont des objets ponctuels, donc tous les attributs dont ils ont besoin sont leur <code>id</code>, et la localisation de la voie (<code>track</code> et <code>offset</code>).</p><p><img src=../svg_diagrams/small_infra_detectors.drawio.en.svg alt="Diagramme infrarouge avec tous les détecteurs"></p><div class="alert alert-info" role=alert>Les carrés agglutinés représentent plusieurs détecteurs à la fois. En effet, certains tronçons de voie n&rsquo;étant pas représentés sur toute leur longueur, nous n&rsquo;avons pas pu représenter tous les détecteurs du tronçon de voie correspondant.</div><p>Quelques notes :</p><ul><li>Entre certains points, nous n&rsquo;avons ajouté qu&rsquo;un seul détecteur (et non pas deux), car ils étaient très proches les uns des autres, et cela n&rsquo;aurait eu aucun sens de créer un minuscule TVDS entre les deux. Cette situation s&rsquo;est produite sur des sections de voies (<em>TA3</em>, <em>TA4</em>, <em>TA5</em>, <em>TF0</em> et <em>TG3</em>).</li><li>Dans notre infrastructure, il y a relativement peu de sections de voie qui sont assez longues pour nécessiter plus de détecteurs que ceux liés aux aiguillages. A savoir, <em>TA6</em>, <em>TA7</em>, <em>TDO</em>, <em>TD1</em>, <em>TF1</em>, <em>TG1</em> et <em>TH1</em>. Par exemple, <em>TD0</em>, qui mesure 25 km, compte en fait 17 détecteurs au total.</li></ul><h4 id=arrêts-tampons>Arrêts tampons</h4><p>Les <code>BufferStops</code> sont des obstacles destinés à empêcher les trains de glisser dans des culs-de-sac.</p><p>Dans notre infrastructure, il y a un butoir sur chaque section de voie qui a un cul-de-sac. Il y a donc 8 butoirs au total.</p><p>Avec les détecteurs, ils définissent les limites des sections <a href="https://ressources.data.sncf.com/explore/dataset/lexique-des-acronymes-sncf/table/?sort=abreviation&q=TVD">TVD</a> (voir <a href=#d%C3%A9tecteurs>Detectors</a>).</p><h4 id=itinéraires>Itinéraires</h4><p>Une <code>Route</code> est un itinéraire dans l&rsquo;infrastructure. Un sillon est une séquence de routes. Les itinéraires sont utilisés pour réserver des sections de sillon avec l&rsquo;enclenchement. Voir la <a href=/fr/developers/internals/simulation-model/>documentation dédiée</a>.</p><p>Il est représenté avec les attributs suivants :</p><ul><li><code>entry_point</code> et <code>exit_point</code> : références de détecteurs ou de butées.</li><li><code>path</code> : La liste des plages de sections de voies qu&rsquo;un train peut emprunter pour aller de l&rsquo;entrée à la sortie. Il peut y avoir deux Routes avec les mêmes points d&rsquo;entrée et de sortie et deux chemins différents.</li><li><code>release_detectors</code> : Lorsqu&rsquo;un train franchit un détecteur de libération, les ressources réservées depuis le début de la route jusqu&rsquo;à ce détecteur sont libérées.</li></ul><font color=#aa026d><h3 id=signalisation>Signalisation</h3></font><p>Thanks to interlocking, trains are located and allowed to move. It&rsquo;s a good start, but meaningless until trains are made aware of it. C&rsquo;est là que les &ldquo;signaux&rdquo; entrent en jeu : les signaux réagissent aux enclenchements et peuvent être vus par les trains.</p><p>La façon dont les trains réagissent aux signaux dépend de l&rsquo;aspect, du type de signal et du système de signalisation.</p><p>Voici les attributs les plus importants des signaux :</p><ul><li><code>linked_detector</code> : Le [détecteur] lié (#détecteurs).</li><li><code>type_code</code> : Le type de signal.</li><li><code>direction</code> : La direction qu&rsquo;il protège, qui peut être simplement interprétée comme la façon dont il peut être vu par un train entrant (puisqu&rsquo;il n&rsquo;y a des feux que d&rsquo;un côté&mldr;). La direction est relative à l&rsquo;orientation de la section de voie.</li><li>Des attributs cosmétiques comme <code>angle_geo</code> and <code>side</code> qui contrôlent la manière dont les signaux sont affichés dans le front-end.</li></ul><p>Voici une visualisation de comment on peut représenter un signal, et quelle direction il protège.</p><p><img src=../svg_diagrams/signal_dir.en.svg alt="Exemple de signal de direction"></p><br><p>La manière dont les signaux sont disposés dépend fortement du système de signalisation et du gestionnaire de l&rsquo;infrastructure.</p><p>Voici les règles de base utilisées pour cet exemple d&rsquo;infrastructure :</p><ul><li>Nous ajoutons deux signaux d&rsquo;espacement (un par direction) pour chaque détecteur qui découpe une longue section de TVD en plus petites sections.</li><li>Les entrées d&rsquo;aiguillage où un train pourrait devoir s&rsquo;arrêter sont protégées par un signal (qui est situé à l&rsquo;extérieur de la section TVD de l&rsquo;aiguillage). Il doit être visible depuis la direction utilisée pour approcher l&rsquo;aiguillage. Lorsqu&rsquo;il y a plusieurs aiguillages dans une rangée, seul le premier a généralement besoin d&rsquo;être protégé, car l&rsquo;enclenchement est généralement conçu pour ne pas encourager les trains à s&rsquo;arrêter au milieu des intersections.</li></ul><p>Notez que les détecteurs liés à au moins un signal ne sont pas représentés, car il n&rsquo;y a pas de signaux sans détecteurs associés dans cet exemple.
Pour obtenir le <code>id</code> d&rsquo;un détecteur lié à un signal, prenez le <code>id</code> du signal et remplacez <em>S</em> par <em>D</em> (par exemple SA0 -> DA0).</p><p><img src=../svg_diagrams/small_infra_signals.drawio.en.svg alt="Diagramme infrarouge avec tous les signaux"></p><div class="alert alert-info" role=alert>Sur <em>TA6</em>, <em>TA7</em>, <em>TD0</em> et <em>TD1</em> nous n&rsquo;avons pas pu représenter tous les signaux car ces sections de voie sont très longues et comportent de nombreux détecteurs, donc de nombreux signaux.</div><font color=#aa026d><h2 id=divers>Divers</h2></font><h4 id=points-opérationnels>Points opérationnels</h4><p>Les <code>OperationalPoints</code> sont des collections de points (<code>OperationalPointParts</code>) d&rsquo;intérêt.</p><p>Par exemple, il peut être pratique de stocker l&rsquo;emplacement des plateformes en tant que parties et de les regrouper par station dans des points opérationnels.</p><p>Dans l&rsquo;exemple de l&rsquo;infrastructure, nous n&rsquo;avons utilisé que des points opérationnels pour représenter les stations. Les parties de points opérationnels sont représentées par des diamants violets. Gardez à l&rsquo;esprit qu&rsquo;un seul point opérationnel peut contenir plusieurs parties.</p><p><img src=../svg_diagrams/small_infra_op_points.drawio.en.svg alt="Exemples de points opérationnels"></p><h4 id=limites-de-gabarit-de-chargement>Limites de gabarit de chargement</h4><p>Ces objets s&rsquo;apparentent aux <code>Pentes</code> et aux <code>Courbes</code> : ils couvrent une plage de section de voie, avec un décalage de <code>début</code> et de <code>fin</code>. Il représente une restriction sur les trains qui peuvent circuler sur la plage donnée, par poids ou par type de train (fret ou passagers).</p><p>Nous n&rsquo;en avons pas mis dans nos exemples.</p><h4 id=sections-de-vitesse>Sections de vitesse</h4><p>Les <code>SpeedSections</code> représentent les limites de vitesse (en mètres par seconde) qui sont appliquées sur certaines parties des voies. Une <code>SpeedSection</code> peut s&rsquo;étendre sur plusieurs sections de voie, et ne couvre pas nécessairement la totalité des sections de voie. Les sections de vitesse peuvent se chevaucher.</p><p>Dans notre exemple d&rsquo;infrastructure, nous avons une section de vitesse couvrant l&rsquo;ensemble de l&rsquo;infrastructure, limitant la vitesse à 300 km/h. Sur une plus petite partie de l&rsquo;infrastructure, nous avons appliqué des sections de vitesse plus restrictives.</p><p><img src=../svg_diagrams/speed_sections.en.svg alt="Exemples de sections de vitesse"></p></div><div class=td-content style=page-break-before:always><h1 id=pg-c351de31723331dc0e22968e6d1ec545>2 - Liste des APIs</h1><div class=lead>APIs disponibles dans OSRD</div></div><div class=td-content><h1 id=pg-b589148f819084a25030b767b99e4c86>2.1 - API</h1><div class=lead>Référence pour l&rsquo;API du service API</div><div id=ohpen_swagger_ui></div><script>window.onload=function(){const e=SwaggerUIBundle({url:"/openapi/api.yaml",dom_id:"#ohpen_swagger_ui",presets:[SwaggerUIBundle.presets.apis,SwaggerUIStandalonePreset]});window.ui=e}</script></div><div class=td-content style=page-break-before:always><h1 id=pg-82ddd5a42aef30e53ff6fe3621680948>2.2 - Chartos</h1><div class=lead>Référence pour l&rsquo;API du service Chartos</div><div id=ohpen_swagger_ui></div><script>window.onload=function(){const e=SwaggerUIBundle({url:"/openapi/chartos.yaml",dom_id:"#ohpen_swagger_ui",presets:[SwaggerUIBundle.presets.apis,SwaggerUIStandalonePreset]});window.ui=e}</script></div><div class=td-content style=page-break-before:always><h1 id=pg-b1b622c137635058179f52c6b9872db5>2.3 - Core</h1><div class=lead>Référence pour l&rsquo;API du service Core</div><div id=ohpen_swagger_ui></div><script>window.onload=function(){const e=SwaggerUIBundle({url:"/openapi/core.yaml",dom_id:"#ohpen_swagger_ui",presets:[SwaggerUIBundle.presets.apis,SwaggerUIStandalonePreset]});window.ui=e}</script></div><div class=td-content style=page-break-before:always><h1 id=pg-6aa1df5f40001cd7204af6bf1e24a132>2.4 - Editoast</h1><div class=lead>Référence pour l&rsquo;API du service Editoast</div><div id=ohpen_swagger_ui></div><script>window.onload=function(){const e=SwaggerUIBundle({url:"/openapi/editoast.yaml",dom_id:"#ohpen_swagger_ui",presets:[SwaggerUIBundle.presets.apis,SwaggerUIStandalonePreset]});window.ui=e}</script></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=LinkedIn aria-label=LinkedIn><a class=text-white target=_blank rel=noopener href=https://www.linkedin.com/company/dgex-solutions/ aria-label=LinkedIn><i class="fab fa-linkedin"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/dgexsolutions aria-label=Twitter><i class="fab fa-twitter"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/DGEXSolutions/osrd aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://example.org/slack aria-label=Slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel=noopener href=https://example.org/mail aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 DGEX Solutions Tous droits réservés</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/mermaid@8.13.4/dist/mermaid.min.js integrity="sha512-JERecFUBbsm75UpkVheAuDOE8NdHjQBrPACfEQYPwvPG+fjgCpHAz1Jw2ci9EXmd3DdfiWth3O3CQvcfEg8gsA==" crossorigin=anonymous></script><style>.markmap>svg{width:100%;height:300px}</style><script>window.markmap={autoLoader:{manual:!0}}</script><script src=https://cdn.jsdelivr.net/npm/markmap-autoloader></script>
<script src=/js/tabpane-persist.js></script>
<script src=/osrd-website/js/main.min.388e1698db452a79196d63fdb03f54c101b02ecbf065f125f580520ae8be8551.js integrity="sha256-OI4WmNtFKnkZbWP9sD9UwQGwLsvwZfEl9YBSCui+hVE=" crossorigin=anonymous></script></body></html>